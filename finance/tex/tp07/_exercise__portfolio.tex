\section*{Optimal portfolios}

In this series we look at the closing prices of Macdonald's, Bank of America, IBM, Chevron, Coca-Cola, Novartis and AT\&T, over a one-year time span extending from 2013-05-01 to 2014-05-01. \\

\noindent Download the file \texttt{closing\_prices.csv} on Moodle. You can load it with the following Python code:

\begin{minted}{python}
import pandas as pd

df = pd.read_csv('closing_prices.csv')
data = df.to_numpy() # if you prefer working with np array
\end{minted}

\noindent We define the weight vector of the portfolio $w = \{w_1, ..., w_7\}$ such that $\sum\limits_{i=1}^{7} w_i = 1$.

\begin{enumerate}
    \item Write a function that estimates the expected return and the risk (standard deviation of returns) for a given weight vector. Then, plot the return against the risk for 100000 randomly chosen weights vectors (Monte-Carlo simulation). What do you observe?
    \item We introduced the following analytical expression during the course to compute the weight vector that minimizes the risk given a desired portfolio return $\mu_p$:
        \begin{equation}
        \begin{aligned}
            a &= \mathbbm{1}^T C^{-1} \mathbbm{1} \\
            b &= \mathbbm{1}^T C^{-1} \mu  \\
            c &= \mu^T C^{-1} \mu  \\
            d &= ac - b^2 \\
            \lambda_1 &= \frac{c - b \mu_p}{d} \\
            \lambda_2 &= \frac{a \mu_p - b}{d} \\
            w &= C^{-1} (\lambda_1 \mathbbm{1} + \lambda_2 \mu)  \\
        \end{aligned}
        \end{equation}
    With $\mu = \{\mu_1, ..., \mu_7\}$ the expected returns of each stock and $C$ the covariance matrix of returns.\\ 
    
        \noindent Using this expression, draw Markowitz's efficient frontier for portfolio return $\mu_p \in [-0.0006, +0.0004]$.


    \item Using the efficient frontier, find the weight of the portfolio with the minimal volatility. What can you say about the return of this portfolio?
\end{enumerate}



